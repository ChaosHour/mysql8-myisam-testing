SET GLOBAL server_id = 1;

select sleep(3);

-- CREATE USER IF NOT EXISTS for repl3@%:
CREATE USER IF NOT EXISTS `repl`@`%` IDENTIFIED WITH 'caching_sha2_password' AS 0x244124303035244A5722792975707B0B3A5C380B3C7D470E5E44086743514A515A316F787046627A344B697A70713361425650757474626A6658446D58736542536D66446243 REQUIRE NONE PASSWORD EXPIRE DEFAULT ACCOUNT UNLOCK PASSWORD HISTORY DEFAULT PASSWORD REUSE INTERVAL DEFAULT PASSWORD REQUIRE CURRENT DEFAULT;
GRANT USAGE ON *.* TO `repl`@`%`;
GRANT REPLICATION SLAVE ON *.* TO `repl`@`%`;

-- ALTER USER `repl`@`%`  IDENTIFIED WITH 'caching_sha2_password' AS 0x244124303035244A5722792975707B0B3A5C380B3C7D470E5E44086743514A515A316F787046627A344B697A70713361425650757474626A6658446D58736542536D66446243 REQUIRE NONE PASSWORD EXPIRE DEFAULT ACCOUNT UNLOCK PASSWORD HISTORY DEFAULT PASSWORD REUSE INTERVAL DEFAULT PASSWORD REQUIRE CURRENT DEFAULT;

-- CREATE USER IF NOT EXISTS for flyway@%:
-- password for flyway@%: OxFF29szWNQ962hUa0Toez3
 CREATE USER IF NOT EXISTS `flyway`@`%` IDENTIFIED WITH 'caching_sha2_password' AS 0x244124303035240A2B5D1718083E295E5D03126644062C6829654E793531634B6C6C55355452656246575576492F55703576633058307A5856595A4B4B4F51774B6C52556438 REQUIRE NONE PASSWORD EXPIRE DEFAULT ACCOUNT UNLOCK PASSWORD HISTORY DEFAULT PASSWORD REUSE INTERVAL DEFAULT PASSWORD REQUIRE CURRENT DEFAULT;
 GRANT USAGE ON *.* TO `flyway`@`%`;
 GRANT ALL PRIVILEGES ON *.* TO `flyway`@`%`;